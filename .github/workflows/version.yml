name: Recipe Validation
on: 
  workflow_dispatch:
    inputs:
      force_rebuild:
        description:  'Force Rebuild'
        required:     false
        default:      false
        type:         boolean

  push:   
    branches: [ "main" ]
    paths:
      - '**/cmake-**.yml'
      - '**/cmake/**.json'


jobs:

  params:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
    

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Validate and Read Recipe
        uses: kiran-godse/ValidateRecipe@main
        with:
          json-file: ./recipe/cmake/recipe.json
          schema-file: .schema/recipe.json

  
